---
title: 分布式概念
toc: content
keywords: [spring, base, springcloud]
---

## CAP理论

### 出现的原因

- 由于分布式环境下网络的不稳定性，所以需要考虑网络不可达的因素（不能影响到服务的正常响应）

### 含义

- C：consistency-数据一致性
  - 如果系统对一个写操作返回成功，那么之后的读操作必须正确读取到这个写操作的数据
  - 如果系统对一个写操作返回失败，那么之后的读操作不能读取到这个写操作的数据
  - 即对调用者而言数据具有强一致性
- A：availability-服务可用性
  - 所有的请求在一定的时间内都可以得到响应，可以终止，不会出现一直等待的情况
- P：partition-tolerance-分区容错性
  - 在网络分区的情况下，被分隔的节点仍然能对外提供服务

### 实际

- 只能有CP、AP这两种组合，CA在分布式架构中是不可能的，即P必须保证
- CAP可以兼得，但是是不完善的，比如通过弱一致性、最终一致性、熔断降级等等来实现

## Base理论

### 出现的原因

- 是CAP理论的一种妥协

### 含义

- 基本可用：响应延长、服务降级
- 软状态：允许存在中间状态，并且该中间状态不会影响系统整体可用性
- 最终一致性：节点间的数据同步存在时延，但最终会达成一致
  - 也是一种弱一致性

## 数据一致性模型

- 弱一致性
- 强一致性
- 最终一致性
- 因果一致性
- 会话一致性
- 读写一致性

## Quorum

## WARO

## Paxos

## Raft

## Zab

## 负载均衡策略